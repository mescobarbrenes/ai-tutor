<!DOCTYPE html>
<html lang= "en">
<head>
  <meta charset = "UTF-8">
  <title>Pomodoro App</title>
  <link rel = "stylesheet" href = "focus-mode-setup.css">
  <script src = "https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body>
  <div id = "navbar">
    <button id = "back-button" onclick = "goBack()">&lt; AI Tutor</button>
    <h1 id = "page-title">Guided Debugging Mode</h1>
    <button id = "help-button" onclick = "showHelp()">?</button>
  </div>
  <div class = "code-box">
  <div class= "container">
    <!-- LEFT SECTION: Timers -->
    <div class = "timers">
      <div class = "timer-box">
        <h3>Pomodoro</h3>
        <div class = "timer-clock">
        <input type = "number" min = "0" max = "59" value = "25" class = "timer-min"> 
        <p class = ":">&#58;</p>
        <input type = "number" min = "0" max = "59" value = "00" class = "timer-sec"> 
        </div>
      </div>
      <div class="timer-box">
        <h3>Short Break</h3>
        <div class = "timer-clock">
          <input type = "number" min = "0" max = "59" value = "5" class = "timer-min"> 
          <p class = ":">&#58;</p>
          <input type = "number" min = "0" max = "59" value = "00" class = "timer-sec"> 
          </div>
      </div>
      <div class="timer-box">
        <h3>Long Break</h3>
        <div class = "timer-clock">
          <input type = "number" min = "0" max = "59" value = "15" class = "timer-min"> 
          <p class = ":">&#58;</p>
          <input type = "number" min = "0" max = "59" value = "00" class = "timer-sec">
          </div> 
      </div>
    </div>
    <!-- RIGHT SECTION: Task Manager -->
    <div class = "tasks">
      <h2 class = "task-header">Tasks</h2>
      <h3 class = "task-description">Enter a task</h3>
      <div class = "task-input">
        <input type = "text" id = "taskInput" placeholder = "Enter task..." />
        <button onclick = "addTask()" class = "add-button">Add</button>
      </div>
      <ul class = "task-list" id = "taskList">
      </ul>
    </div>
  </div>
  </div>

  <!-- BOTTOM SECTION: Focus Buttons -->
  <div class = "footer">
    <button class = "footer-button">Enter Focus Mode</button>
    <button class = "footer-button">Return to Main Menu</button>
  </div>

  <script> 
    function addTask() {
      const input = document.getElementById('taskInput');
      const taskText = input.value.trim();
      if (!taskText) return;

      const li = document.createElement('li');
      li.classList.add('task-item');

      const dragHandle = document.createElement('span');
      dragHandle.textContent = 'â‰¡';
      dragHandle.className = 'drag-handle';

      const span = document.createElement('span');
      span.textContent = taskText;

      const controls = document.createElement('div');
      controls.className = 'task-controls';

      const editBtn = document.createElement('button');
      editBtn.className = "edit-button";
      editBtn.textContent = 'Edit';
      editBtn.onclick = () => {
        const newText = prompt("Edit task:", span.textContent);
        if (newText !== null) span.textContent = newText;
      };

      const deleteBtn = document.createElement('button');
      deleteBtn.className = "delete-button";
      deleteBtn.textContent = 'Delete';
      deleteBtn.onclick = () => li.remove();

      controls.append(editBtn, deleteBtn);
      li.append(dragHandle, span, controls);
      document.getElementById('taskList').appendChild(li);

      input.value = '';
    }

    new Sortable(document.getElementById('taskList')), {
      animation: 150,
      ghostClass: 'sortable-ghost'
    }

    function enterFocusMode() {
      alert("Entering Focus Mode...");
      //you can hide elements or change layout here
    }

    function returnToMainMenu() {
      alert("Returning to Main Menu...");
      //restore normal layout here
    }
  </script>
</body>
</html>
